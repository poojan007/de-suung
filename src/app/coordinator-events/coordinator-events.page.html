<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button color="primary"></ion-back-button>
    </ion-buttons>
    <ion-title class="ion-text-center" style="font-weight: bold;">
      <img src="../../assets/desuung-header-logo.png" class="logo">
    </ion-title>
    <ion-buttons slot="end">
      <ion-button icon-only (click)="presentActionSheet()" color="primary">
        <ion-icon name="apps"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="orange-background">
  <div class="form-header">Your Event List</div>
  <div *ngIf="dataList?.length != 0">
    <ion-list *ngFor="let data of dataList" style="margin-top: 5px;">
      <ion-card style="margin-top: 5px;">
        <ion-card-header style="--background: #ef5e5e;" text-wrap>
          <ion-card-subtitle style="--color: white;font-size: 20px;">{{data.title}}</ion-card-subtitle>
          <ion-card-title style="font-size: 12px; --color: white;">{{data.startDate | date}} - {{data.endDate | date}}</ion-card-title>
        </ion-card-header>
        <ion-card-content>
          <p class="description">{{data.description}}</p>
          <hr>
          <p><span class="title">Event Type:</span> <b>{{data.event_type}}</b></p>
          <p><span class="title">Event Category:</span> <b>{{data.event_category}}</b></p>
        </ion-card-content>
        <ion-footer>
          <ion-row>
            <ion-col>
              <ion-button fill="clear" (click)="generateQRCode(data.id, data.title, data.startDate, data.endDate)">
                <ion-icon name="barcode"></ion-icon>
                <div>QR Code</div>
              </ion-button>
            </ion-col>
            <ion-col>
              <ion-button fill="clear" (click)="takeAttendance(data.id, data.title)">
                <ion-icon name="bookmarks"></ion-icon>
                <div>Attendance</div>
              </ion-button>
            </ion-col>
          </ion-row>
        </ion-footer>
      </ion-card>
    </ion-list>
  </div>
  <div *ngIf="dataList?.length == 0">
    <div style="margin-top: 50%;
    font-size: 20px;
    text-align: center;
    color: #ff5507;">
      <img style="width: 100px;" src="../../assets/no-information.png">
    </div>
    <div style="font-size: 20px;
    text-align: center;
    color: #ff5507;">
      No events available
    </div>
  </div>
</ion-content>